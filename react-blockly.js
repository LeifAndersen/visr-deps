/*! For license information please see react-blockly.js.LICENSE.txt */
!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var o=n();for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(self,(()=>(()=>{var e={742:(e,n,o)=>{"use strict";var r=o(665);function t(){}function u(){}u.resetWarningCache=t,e.exports=function(){function e(e,n,o,t,u,c){if(c!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function n(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:u,resetWarningCache:t};return o.PropTypes=o,o}},946:(e,n,o)=>{e.exports=o(742)()},665:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},109:(e,n,o)=>{"use strict";var r=o(440),t=Symbol.for("react.element"),u=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};n.jsx=function(e,n,o){var r,i={},s=null,f=null;for(r in void 0!==o&&(s=""+o),void 0!==n.key&&(s=""+n.key),void 0!==n.ref&&(f=n.ref),n)u.call(n,r)&&!a.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===i[r]&&(i[r]=n[r]);return{$$typeof:t,type:e,key:s,ref:f,props:i,_owner:c.current}}},815:(e,n,o)=>{"use strict";e.exports=o(109)},440:e=>{e.exports=function(){return this.React}()},807:e=>{e.exports=function(){return this.blockly}()}},n={};function o(r){var t=n[r];if(void 0!==t)return t.exports;var u=n[r]={exports:{}};return e[r](u,u.exports,o),u.exports}o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var r in n)o.o(n,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";o.r(r),o.d(r,{BlocklyWorkspace:()=>m,Workspace:()=>t.Workspace,WorkspaceSvg:()=>t.WorkspaceSvg,useBlocklyWorkspace:()=>a});var e=o(440),n=o.n(e),t=o(807),u=o.n(t),c=function(){return c=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++)for(var t in n=arguments[o])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},c.apply(this,arguments)};const a=function(e){var o=e.ref,r=e.initialXml,t=e.toolboxConfiguration,a=e.workspaceConfiguration,i=e.onWorkspaceChange,s=e.onImportXmlError,f=e.onInject,l=e.onDispose,p=n().useState(null),m=p[0],y=p[1],v=n().useState(r),d=v[0],g=v[1],b=n().useState(!1),h=b[0],k=b[1],C=n().useState(!1),_=C[0],x=C[1],E=n().useRef(a);n().useEffect((function(){E.current=a}),[a]);var O=n().useRef(t);n().useEffect((function(){O.current=t,t&&m&&m.updateToolbox(t)}),[t,m]);var T=n().useRef(f),j=n().useRef(l);n().useEffect((function(){T.current=f}),[f]),n().useEffect((function(){j.current=l}),[l]);var S=n().useCallback((function(e){i&&i(e)}),[i]);return n().useEffect((function(){if(o.current){var e=u().inject(o.current,c(c({},E.current),{toolbox:O.current}));y(e),k(!1),x(!1),T.current&&T.current(e);var n=j.current;return function(){e.dispose(),n&&n(e)}}}),[o]),n().useEffect((function(){m&&!_&&S(m)}),[S,_,m]),n().useEffect((function(){if(null!=m){var e=function(){S(m)};return m.addChangeListener(e),function(){m.removeChangeListener(e)}}}),[m,S]),n().useEffect((function(){if(null!=m){var e,n,o,r,t=(e=function(){var e=u().Xml.domToText(u().Xml.workspaceToDom(m));e!==d&&g(e)},n=200,o=null,r=null,[function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];r=function(){o=null,e.apply(void 0,t)},clearTimeout(o),o=setTimeout(r,n)},function(){null!==o&&(clearTimeout(o),r())}]),c=t[0],a=t[1];return m.addChangeListener(c),function(){m.removeChangeListener(c),a()}}}),[m,d]),n().useEffect((function(){if(d&&m&&!h){var e=function(e,n,o){try{return u().Xml.domToWorkspace(u().Xml.textToDom(e),n),!0}catch(e){return o&&o(e),!1}}(d,m,s);e||g(null),k(!0)}}),[d,m,h,s]),{workspace:m,xml:d}};var i=o(815),s=o(946),f=o.n(s),l={initialXml:f().string,toolboxConfiguration:f().object,workspaceConfiguration:f().object,className:f().string,onWorkspaceChange:f().func,onImportXmlError:f().func,onXmlChange:f().func,onInject:f().func,onDispose:f().func};function p(e){var o=e.initialXml,r=e.toolboxConfiguration,t=e.workspaceConfiguration,u=e.className,c=e.onWorkspaceChange,s=e.onXmlChange,f=e.onImportXmlError,l=e.onInject,p=e.onDispose,m=n().useRef(null),y=a({ref:m,initialXml:o,toolboxConfiguration:r,workspaceConfiguration:t,onWorkspaceChange:c,onImportXmlError:f,onInject:l,onDispose:p}).xml,v=n().useRef(s);return n().useEffect((function(){v.current=s}),[s]),n().useEffect((function(){v.current&&y&&v.current(y)}),[y]),(0,i.jsx)("div",{className:u,ref:m},void 0)}p.propTypes=l,p.defaultProps={initialXml:null,toolboxConfiguration:null,workspaceConfiguration:null,className:null,onWorkspaceChange:null,onImportXmlError:null,onXmlChange:null,onInject:null,onDispose:null};const m=p})(),r})()));