/*! For license information please see react-blockly.js.LICENSE.txt */
!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var o=n();for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(self,(()=>(()=>{var e={742:(e,n,o)=>{"use strict";var r=o(665);function t(){}function u(){}u.resetWarningCache=t,e.exports=function(){function e(e,n,o,t,u,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function n(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:u,resetWarningCache:t};return o.PropTypes=o,o}},946:(e,n,o)=>{e.exports=o(742)()},665:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},109:(e,n,o)=>{"use strict";var r=o(440),t=Symbol.for("react.element"),u=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};n.jsx=function(e,n,o){var r,c={},s=null,l=null;for(r in void 0!==o&&(s=""+o),void 0!==n.key&&(s=""+n.key),void 0!==n.ref&&(l=n.ref),n)u.call(n,r)&&!a.hasOwnProperty(r)&&(c[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===c[r]&&(c[r]=n[r]);return{$$typeof:t,type:e,key:s,ref:l,props:c,_owner:i.current}}},815:(e,n,o)=>{"use strict";e.exports=o(109)},440:e=>{e.exports=function(){return this.React}()},951:e=>{e.exports=function(){return this.dependencies.blockly}()}},n={};function o(r){var t=n[r];if(void 0!==t)return t.exports;var u=n[r]={exports:{}};return e[r](u,u.exports,o),u.exports}o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var r in n)o.o(n,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";o.r(r),o.d(r,{BlocklyWorkspace:()=>m,Workspace:()=>t.Workspace,WorkspaceSvg:()=>t.WorkspaceSvg,useBlocklyWorkspace:()=>a});var e=o(440),n=o.n(e),t=o(951),u=o.n(t),i=function(){return i=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++)for(var t in n=arguments[o])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},i.apply(this,arguments)};const a=function(e){var o=e.ref,r=e.initialXml,t=e.initialJson,a=e.toolboxConfiguration,c=e.workspaceConfiguration,s=e.onWorkspaceChange,l=e.onImportXmlError,f=e.onImportError,p=e.onInject,m=e.onDispose;f=null!=f?f:l;var v=n().useState(null),y=v[0],d=v[1],g=n().useState(r||null),h=g[0],b=g[1],k=n().useState(t||null),E=k[0],C=k[1],x=n().useState(!1),_=x[0],T=x[1],j=n().useState(!1),O=j[0],I=j[1],S=n().useRef(c);n().useEffect((function(){S.current=c}),[c]);var w=n().useRef(a);n().useEffect((function(){w.current=a,a&&y&&y.updateToolbox(a)}),[a,y]);var X=n().useRef(p),R=n().useRef(m);n().useEffect((function(){X.current=p}),[p]),n().useEffect((function(){R.current=m}),[m]);var P=n().useCallback((function(e){s&&s(e)}),[s]);return n().useEffect((function(){if(o.current){var e=u().inject(o.current,i(i({},S.current),{toolbox:w.current}));d(e),T(!1),I(!1),X.current&&X.current(e);var n=R.current;return function(){e.dispose(),n&&n(e)}}}),[o]),n().useEffect((function(){y&&!O&&P(y)}),[P,O,y]),n().useEffect((function(){if(null!=y){var e=function(){P(y)};return y.addChangeListener(e),function(){y.removeChangeListener(e)}}}),[y,P]),n().useEffect((function(){if(null!=y){var e,n,o,r,t=(e=function(){var e=u().Xml.domToText(u().Xml.workspaceToDom(y));if(e!==h){var n=u().serialization.workspaces.save(y);C(n),b(e)}},n=200,o=null,r=null,[function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];r=function(){o=null,e.apply(void 0,t)},null!=o&&clearTimeout(o),o=window.setTimeout(r,n)},function(){null!=o&&(clearTimeout(o),r&&r())}]),i=t[0],a=t[1];return y.addChangeListener(i),function(){y.removeChangeListener(i),a()}}}),[y,h]),n().useEffect((function(){if(h&&y&&!_){var e=function(e,n,o){try{if(n.getAllBlocks(!1).length>0)return;return u().Xml.domToWorkspace(u().Xml.textToDom(e),n),!0}catch(e){return o&&o(e),!1}}(h,y,f);e||b(null),T(!0)}else if(E&&y&&!_){e=function(e,n,o){try{return u().serialization.workspaces.load(e,n),!0}catch(e){return o&&o(e),!1}}(E,y,f),e||C(null);var n=u().Xml.domToText(u().Xml.workspaceToDom(y));b(n),T(!0)}}),[E,h,y,_,f]),{workspace:y,xml:h,json:E}};var c=o(815),s=o(946),l=o.n(s),f={initialXml:l().string,initialJson:l().object,toolboxConfiguration:l().object,workspaceConfiguration:l().object,className:l().string,onWorkspaceChange:l().func,onImportXmlError:l().func,onImportError:l().func,onXmlChange:l().func,onJsonChange:l().func,onInject:l().func,onDispose:l().func};function p(e){var o=e.initialXml,r=e.initialJson,t=e.toolboxConfiguration,u=e.workspaceConfiguration,i=e.className,s=e.onWorkspaceChange,l=e.onXmlChange,f=e.onJsonChange,p=e.onImportXmlError,m=e.onImportError,v=e.onInject,y=e.onDispose,d=n().useRef(null),g=a({ref:d,initialXml:o,initialJson:r,toolboxConfiguration:t,workspaceConfiguration:u,onWorkspaceChange:s,onImportXmlError:p,onImportError:m,onInject:v,onDispose:y}),h=g.xml,b=g.json,k=n().useRef(l);n().useEffect((function(){k.current=l}),[l]);var E=n().useRef(f);return n().useEffect((function(){E.current=f}),[f]),n().useEffect((function(){k.current&&h&&k.current(h),E.current&&b&&E.current(b)}),[h,b]),(0,c.jsx)("div",{className:i,ref:d})}p.propTypes=f,p.defaultProps={initialXml:null,initialJson:null,toolboxConfiguration:null,workspaceConfiguration:null,className:null,onWorkspaceChange:null,onImportXmlError:null,onImportError:null,onXmlChange:null,onJsonChange:null,onInject:null,onDispose:null};const m=p})(),r})()));